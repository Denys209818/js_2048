!function(){function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=Array(e);n<e;n++)a[n]=t[n];return a}var e,n=document.querySelector(".button"),a=function(e){if(Array.isArray(e))return t(e)}(e=document.getElementsByClassName("field-cell"))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(e,n){if(e){if("string"==typeof e)return t(e,void 0);var a=Object.prototype.toString.call(e).slice(8,-1);if("Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return t(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();function l(){for(var t=Math.ceil(Math.random()*(a.length-1));a[t].classList.length>=2;)t=Math.floor(Math.random()*(a.length-1));var e=1===Math.round(Math.random())?4:2;a[t].classList.add("field-cell--".concat(e)),a[t].textContent=e}n.addEventListener("click",function(t){if(n.classList.contains("start")&&(n.classList.remove("start"),n.classList.add("restart"),n.textContent="Restart"),n.classList.contains("restart"))for(var e=0;e<a.length;e++)a[e].classList.remove("field-cell--".concat(a[e].textContent)),a[e].textContent="";l()}),document.addEventListener("keydown",function(t){t.preventDefault();var e=0;switch(t.key){case"ArrowLeft":for(var n=0;n<a.length;n++)if(a[n].classList.length>=2){var o=n%4,r=n;switch(o){case 1:case 2:case 3:for(;r%4>0&&a[r-1].classList.length<2;)a[r-1].classList.add("field-cell--".concat(a[r].textContent)),a[r-1].textContent=a[r].textContent,a[r].classList.remove("field-cell--".concat(a[r].textContent)),a[r].textContent="",e++,r--;if(r%4>0&&a[r-1].textContent===a[r].textContent&&!a[r-1].getAttribute("data-merged")){var c=2*a[r-1].textContent,s=a[r].textContent;a[r-1].textContent=c,a[r-1].classList.remove("field-cell--".concat(c/2)),a[r-1].setAttribute("data-merged",!0),a[r-1].classList.add("field-cell--".concat(c)),a[r].classList.remove("field-cell--".concat(s)),a[r].textContent="",e++}}}break;case"ArrowRight":for(var i=a.length-1;i>=0;i--)if(a[i].classList.length>=2){var d=i%4,f=i;switch(d){case 0:case 1:case 2:for(;f%4<(a.length-1)%4&&a[f+1].classList.length<2;)a[f+1].classList.add("field-cell--".concat(a[f].textContent)),a[f+1].textContent=a[f].textContent,a[f].classList.remove("field-cell--".concat(a[f].textContent)),a[f].textContent="",e++,f++;if(f%4<(a.length-1)%4&&a[f+1].textContent===a[f].textContent&&!a[f+1].getAttribute("data-merged")){var C=2*a[f+1].textContent,x=a[f].textContent;a[f+1].textContent=C,a[f+1].classList.remove("field-cell--".concat(C/2)),a[f+1].classList.add("field-cell--".concat(C)),a[f+1].setAttribute("data-merged",!0),a[f].classList.remove("field-cell--".concat(x)),a[f].textContent="",e++}}}break;case"ArrowUp":for(var u=0;u<a.length;u++)if(a[u].classList.length>=2&&u>=4){for(var m=u;m>=4&&a[m-4].classList.length<2;)a[m-4].classList.add("field-cell--".concat(a[m].textContent)),a[m-4].textContent=a[m].textContent,a[m].classList.remove("field-cell--".concat(a[m].textContent)),a[m].textContent="",e++,m-=4;if(m>=4&&a[m-4].textContent===a[m].textContent&&!a[m-4].getAttribute("data-merged")){var v=2*a[m-4].textContent,g=a[m].textContent;a[m-4].textContent=v,a[m-4].classList.remove("field-cell--".concat(v/2)),a[m-4].classList.add("field-cell--".concat(v)),a[m-4].setAttribute("data-merged",!0),a[m].classList.remove("field-cell--".concat(g)),a[m].textContent="",e++}}break;case"ArrowDown":for(var h=a.length-1;h>=0;h--)if(a[h].classList.length>=2&&h<a.length-4){for(var L=h;L<a.length-4&&a[L+4].classList.length<2;)a[L+4].classList.add("field-cell--".concat(a[L].textContent)),a[L+4].textContent=a[L].textContent,a[L].classList.remove("field-cell--".concat(a[L].textContent)),a[L].textContent="",e++,L+=4;if(L<a.length-4&&a[L+4].textContent===a[L].textContent&&!a[L+4].getAttribute("data-merged")){var y=2*a[L+4].textContent,b=a[L].textContent;a[L+4].textContent=y,a[L+4].classList.remove("field-cell--".concat(y/2)),a[L+4].classList.add("field-cell--".concat(y)),a[L+4].setAttribute("data-merged",!0),a[L].classList.remove("field-cell--".concat(b)),a[L].textContent="",e++}}}0!==e&&l(),function(){var t=document.querySelectorAll("[data-merged=true]"),e=!0,n=!1,a=void 0;try{for(var l,o=t[Symbol.iterator]();!(e=(l=o.next()).done);e=!0)l.value.removeAttribute("data-merged")}catch(t){n=!0,a=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw a}}}()})}();
//# sourceMappingURL=index.10042644.js.map
